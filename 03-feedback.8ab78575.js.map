{"mappings":"iiBAOA,IAAAA,EAAAC,EAAA,SAEMC,EAAO,CACTC,KAAMC,SAASC,cAAc,QAC7BC,MAAOF,SAASC,cAAc,SAC9BE,SAAUH,SAASC,cAAc,aAI/BG,EAAW,GAEjBN,EAAKC,KAAKM,iBAAiB,UAoB3B,SAAkBC,GACdA,EAAMC,iBACND,EAAME,cAAcC,QACpBC,aAAaC,WAAW,aACxBC,QAAQC,IAAIT,E,IAvBhBN,EAAKC,KAAKM,iBAAiB,QAASS,EAAAlB,EAAA,EAcpC,SAAiBU,GACbF,EAASE,EAAMS,OAAOC,MAAQV,EAAMS,OAAOE,MAC3CP,aAAaQ,QAAQ,oBAAqBC,KAAKC,UAAUhB,G,GAhBP,MAItD,WACI,IAAMiB,EAAYF,KAAKG,MAAMZ,aAAaa,QAAQ,eAAiB,GAChEF,EAAUG,QACTA,MAAMP,MAAQI,EAAUG,OAEzBH,EAAUI,UACTtB,SAASc,MAAQI,EAAUI,Q,CARnCC,GAwBAd,QAAQC,IAAIc,M","sources":["src/js/03-feedback.js"],"sourcesContent":["\n// Відстежуй на формі подію input, і щоразу записуй у локальне сховище об'єкт з полями email і message, у яких зберігай поточні значення полів форми. Нехай ключем для сховища буде рядок \"feedback-form-state\".\n// Під час завантаження сторінки перевіряй стан сховища, і якщо там є збережені дані, заповнюй ними поля форми. В іншому випадку поля повинні бути порожніми.\n// Під час сабміту форми очищуй сховище і поля форми, а також виводь у консоль об'єкт з полями email, message та їхніми поточними значеннями.\n// Зроби так, щоб сховище оновлювалось не частіше, ніж раз на 500 мілісекунд. Для цього додай до проекту і використовуй бібліотеку lodash.throttle.\n\n\nimport throttle from 'lodash/throttle';\n\nconst refs = {\n    form: document.querySelector('form'),\n    input: document.querySelector('input'),\n    textarea: document.querySelector('textarea'),\n}\n\nconst SAVE_FORM = \"feedback-form-state\";\nconst dataForm = {};\n\nrefs.form.addEventListener('submit', onSubmit);\nrefs.form.addEventListener('input', throttle(onInput, 500));\n\nfillTextarea();\n\nfunction fillTextarea(){\n    const savedText = JSON.parse(localStorage.getItem('SAVE_FORM')) || {}\n    if(savedText.email){\n        email.value = savedText.email\n    }\n    if(savedText.message){\n        textarea.value = savedText.message\n    }\n}\n\nfunction onInput(event){\n    dataForm[event.target.name] = event.target.value;\n    localStorage.setItem('LOCAL_STORAGE_KEY', JSON.stringify(dataForm));\n}\n\nfunction onSubmit(event){\n    event.preventDefault();\n    event.currentTarget.reset();\n    localStorage.removeItem('SAVE_FORM');\n    console.log(dataForm);\n}\n\nconsole.log(hello); \n"],"names":["$eaxEB","parcelRequire","$b00c40859be242c5$var$refs","form","document","querySelector","input","textarea","$b00c40859be242c5$var$dataForm","addEventListener","event","preventDefault","currentTarget","reset","localStorage","removeItem","console","log","$parcel$interopDefault","target","name","value","setItem","JSON","stringify","savedText","parse","getItem","email","message","$b00c40859be242c5$var$fillTextarea","hello"],"version":3,"file":"03-feedback.8ab78575.js.map"}